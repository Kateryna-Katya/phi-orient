{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["document.addEventListener(\"DOMContentLoaded\", () => {\n  // 1. Init Core Libraries\n  lucide.createIcons();\n\n  // Lenis: Smooth Scroll\n  const lenis = new Lenis({\n      duration: 1.2,\n      easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),\n      smooth: true,\n  });\n\n  function raf(time) {\n      lenis.raf(time);\n      requestAnimationFrame(raf);\n  }\n  requestAnimationFrame(raf);\n\n  gsap.registerPlugin(ScrollTrigger);\n\n  // 2. Mobile Menu Logic\n  const burger = document.querySelector('.header__burger');\n  const nav = document.querySelector('.header__nav');\n  const navLinks = document.querySelectorAll('.header__link');\n\n  if (burger) {\n      burger.addEventListener('click', () => {\n          nav.classList.toggle('is-open');\n          burger.classList.toggle('is-active');\n\n          const spans = burger.querySelectorAll('span');\n          if (nav.classList.contains('is-open')) {\n              gsap.to(spans[0], { rotation: 45, y: 6, duration: 0.3 });\n              gsap.to(spans[1], { rotation: -45, y: -6, duration: 0.3 });\n          } else {\n              gsap.to(spans, { rotation: 0, y: 0, duration: 0.3 });\n          }\n      });\n  }\n\n  navLinks.forEach(link => {\n      link.addEventListener('click', () => {\n          if (nav.classList.contains('is-open')) {\n              nav.classList.remove('is-open');\n              burger.classList.remove('is-active');\n              const spans = burger.querySelectorAll('span');\n              gsap.to(spans, { rotation: 0, y: 0, duration: 0.3 });\n          }\n      });\n  });\n\n  // 3. Animations\n\n  // Hero Animation\n  const heroTimeline = gsap.timeline();\n  heroTimeline\n      .from(\".hero__label\", { y: 20, opacity: 0, duration: 0.8, ease: \"power3.out\" })\n      .from(\".hero__title\", { y: 30, opacity: 0, duration: 0.8 }, \"-=0.6\")\n      .from(\".hero__desc\", { y: 20, opacity: 0, duration: 0.8 }, \"-=0.6\")\n      .from(\".hero__btns\", { y: 20, opacity: 0, duration: 0.8 }, \"-=0.6\")\n      .from(\".hero__visual\", { scale: 0.8, opacity: 0, duration: 1.2 }, \"-=0.8\");\n\n  // Scroll Animations (Generic Fade Up/Down/Left/Right)\n  const fadeElements = document.querySelectorAll('[data-animate]');\n\n  fadeElements.forEach(el => {\n      const type = el.getAttribute('data-animate');\n      // Получаем задержку из атрибута data-delay, преобразуем в число, если null/undefined, то 0\n      const delay = parseFloat(el.getAttribute('data-delay')) || 0;\n\n      let initialVars = { opacity: 0, duration: 0.8, ease: \"power3.out\", delay: delay };\n\n      if (type === 'fade-up') initialVars.y = 50;\n      if (type === 'fade-right') initialVars.x = -50;\n      if (type === 'fade-left') initialVars.x = 50;\n      if (type === 'scale-up') initialVars.scale = 0.9;\n\n      // Убеждаемся, что анимация запускается только один раз, когда элемент входит в видимость\n      gsap.from(el, {\n          ...initialVars,\n          scrollTrigger: {\n              trigger: el,\n              start: \"top 85%\",\n              once: true, // Анимация происходит только один раз\n          }\n      });\n  });\n\n  // Специальная анимация для карточек (секция #solutions)\n  const solutionCards = document.querySelectorAll('#solutions .card');\n\n  solutionCards.forEach((card, index) => {\n      gsap.from(card, {\n          y: 50,\n          opacity: 0,\n          duration: 0.8,\n          delay: index * 0.1, // Последовательная задержка\n          ease: \"power3.out\",\n          scrollTrigger: {\n              trigger: \"#solutions\",\n              start: \"top 80%\",\n              once: true,\n          }\n      });\n  });\n\n\n  // 4. FAQ Accordion\n  const accordions = document.querySelectorAll('.accordion__item');\n  accordions.forEach(item => {\n      const trigger = item.querySelector('.accordion__trigger');\n      const content = item.querySelector('.accordion__content');\n      const icon = trigger.querySelector('i');\n\n      trigger.addEventListener('click', () => {\n          const isOpen = content.style.maxHeight;\n\n          // Close all others\n          accordions.forEach(otherItem => {\n              const otherContent = otherItem.querySelector('.accordion__content');\n              if (otherContent !== content) {\n                  otherContent.style.maxHeight = null;\n                  gsap.to(otherItem.querySelector('i'), { rotation: 0, duration: 0.3 });\n              }\n          });\n\n          if (!isOpen || isOpen === '0px') {\n              content.style.maxHeight = content.scrollHeight + \"px\";\n              gsap.to(icon, { rotation: 180, duration: 0.3 });\n          } else {\n              content.style.maxHeight = null;\n              gsap.to(icon, { rotation: 0, duration: 0.3 });\n          }\n      });\n  });\n\n  // 5. Contact Form Logic & Validation\n  const form = document.getElementById('contactForm');\n  const phoneInput = document.getElementById('phone');\n  const phoneError = document.getElementById('phoneError');\n  const captchaInput = document.getElementById('captchaInput');\n  const captchaLabel = document.getElementById('captchaLabel');\n  const formStatus = document.getElementById('formStatus');\n\n  // Phone Validation (Only digits)\n  phoneInput.addEventListener('input', (e) => {\n      const val = e.target.value;\n      if (!/^\\d*$/.test(val)) {\n          phoneError.style.display = 'block';\n          phoneInput.classList.add('input-error');\n      } else {\n          phoneError.style.display = 'none';\n          phoneInput.classList.remove('input-error');\n      }\n  });\n\n  // Math Captcha Logic\n  let num1 = Math.floor(Math.random() * 10) + 1;\n  let num2 = Math.floor(Math.random() * 10) + 1;\n  let correctCaptcha = num1 + num2;\n  captchaLabel.innerText = `Сколько будет ${num1} + ${num2}?`;\n\n  const refreshCaptcha = () => {\n      num1 = Math.floor(Math.random() * 10) + 1;\n      num2 = Math.floor(Math.random() * 10) + 1;\n      correctCaptcha = num1 + num2;\n      captchaLabel.innerText = `Сколько будет ${num1} + ${num2}?`;\n      captchaInput.value = '';\n  }\n\n  form.addEventListener('submit', (e) => {\n      e.preventDefault();\n\n      // Final Phone Check\n      if (!/^\\d+$/.test(phoneInput.value)) {\n          formStatus.innerText = \"Пожалуйста, введите корректный номер телефона (только цифры).\";\n          formStatus.className = \"form-status status-error\";\n          return;\n      }\n\n      // Captcha Check\n      if (parseInt(captchaInput.value) !== correctCaptcha) {\n          formStatus.innerText = \"Ошибка капчи. Посчитайте пример заново.\";\n          formStatus.className = \"form-status status-error\";\n          refreshCaptcha();\n          return;\n      }\n\n      // All checks passed\n      formStatus.innerText = \"\";\n      formStatus.className = \"form-status\";\n\n      // Simulate AJAX\n      const btn = form.querySelector('button[type=\"submit\"]');\n      const originalText = btn.innerText;\n      btn.innerText = \"Отправка...\";\n      btn.disabled = true;\n\n      setTimeout(() => {\n          btn.innerText = \"Отправлено!\";\n          formStatus.innerText = \"Спасибо! Мы свяжемся с вами в ближайшее время.\";\n          formStatus.className = \"form-status status-success\";\n          form.reset();\n\n          refreshCaptcha();\n\n          setTimeout(() => {\n              btn.innerText = originalText;\n              btn.disabled = false;\n              formStatus.innerText = \"\";\n              formStatus.className = \"form-status\";\n          }, 3000);\n      }, 1500);\n  });\n\n  // 6. Cookie Popup\n  const cookiePopup = document.getElementById('cookiePopup');\n  const acceptCookie = document.getElementById('acceptCookie');\n\n  if (!localStorage.getItem('cookiesAccepted')) {\n      setTimeout(() => {\n          cookiePopup.classList.add('is-visible');\n      }, 2000);\n  }\n\n  acceptCookie.addEventListener('click', () => {\n      localStorage.setItem('cookiesAccepted', 'true');\n      cookiePopup.classList.remove('is-visible');\n  });\n});"],"names":["lenis","t","raf","time","burger","nav","navLinks","spans","link","el","type","initialVars","card","index","accordions","item","trigger","content","icon","isOpen","otherItem","otherContent","form","phoneInput","phoneError","captchaInput","captchaLabel","formStatus","val","num1","num2","correctCaptcha","refreshCaptcha","btn","originalText","cookiePopup","acceptCookie"],"mappings":"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"}